---
import Layout from '../layouts/Layout.astro';
import Badge from '../components/Badge.astro';
import MySkills from '../components/MySkills.astro';
import Experience from '../components/Experience.astro';
import AboutMe from '../components/AboutMe.astro';
import Project from '../components/Projects.astro';
import SocialPill from '../components/SocialPill.astro';
import Github from '../components/icons/Github.astro';
import Linkedin from '../components/icons/Linkedin.astro';
import Instagram from '../components/icons/Instagram.astro';
import CV from '../components/icons/CV.astro';
import Footer from '../components/Footer.astro';
---

<Layout title="Miguel Leon | Portfolio">
  <main class="px-4 md:px-6 lg:px-8">
    <section id="home" class="w-full lg:w-[740px] mx-auto py-24 md:py-32 lg:py-64 fade-in-section">
      <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold text-center">
        Hi, I'm Miguel Leon. ðŸ‘‹ <div><Badge>ðŸš€ Ready to Work</Badge></div>
      </h1>
      <h2 class="text-base sm:text-lg md:text-xl px-4 sm:px-6 md:px-8 py-3 text-center">
        I'm a passionate Software Developer and Engineer in Information Technologies, with a focus on building simple yet innovative digital solutions that solve real-world problems.
      </h2>
      <nav class="flex flex-wrap justify-center gap-4 px-4 sm:px-6 md:px-8">
        <SocialPill href="https://github.com/maikleonhg" class="flex items-center gap-2">
          <Github class="w-6 h-6"/>
          <span class="hidden sm:inline">Github</span>
        </SocialPill>
        <SocialPill href="https://linkedin.com/in/miguel-leon-830a5b207" class="flex items-center gap-2">
          <Linkedin class="w-6 h-6"/>
          <span class="hidden sm:inline">Linkedin</span>
        </SocialPill>
        <SocialPill href="https://instagram.com/maikleonhg" class="flex items-center gap-2">
          <Instagram class="w-6 h-6"/>
          <span class="hidden sm:inline">Instagram</span>
        </SocialPill>
        <SocialPill href="linkedin.com" class="flex items-center gap-2">
          <CV class="w-6 h-6"/>
          <span class="hidden sm:inline">Resume</span>
        </SocialPill>
      </nav>
    </section>

    <section id="about" class="w-full lg:w-[740px] mx-auto py-12 md:py-16 lg:py-24 fade-in-section">
      <AboutMe />
    </section>

    <section class="w-full lg:w-[740px] mx-auto py-12 md:py-16 lg:py-24 fade-in-section">
      <Experience />
    </section>

    <section class="w-full lg:w-[740px] mx-auto py-12 md:py-16 lg:py-24 fade-in-section">
      <h1 class="text-3xl sm:text-4xl md:text-5xl font-semibold text-center mb-8 text-gray-800 dark:text-gray-200">My Skills</h1>
      <div>
        <MySkills />
      </div>
    </section>

    <section id="projects" class="w-full lg:w-[740px] mx-auto py-12 md:py-16 lg:py-24 fade-in-section">
      <Project />
    </section>

    <section id="contact" class="w-full lg:w-[740px] mx-auto py-12 md:py-16 lg:py-24 fade-in-section">
      <Footer />
    </section>
  </main>
</Layout>

<script>
  // Intersection Observer to reveal sections as they enter the viewport
  document.addEventListener('DOMContentLoaded', () => {
    const observerOptions = {
      threshold: 0.1,  // Trigger when 10% of the element is visible
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('fade-in-visible'); // Add class to trigger the animation
          observer.unobserve(entry.target); // Stop observing once the animation has played
        }
      });
    }, observerOptions);

    // Observe each section with the "fade-in-section" class
    document.querySelectorAll('.fade-in-section').forEach(section => {
      observer.observe(section);
    });
  });
</script>

<style>
  /* Base styles for fade-in sections */
  .fade-in-section {
    opacity: 0;
    transform: translateY(50px); /* Start 50px above */
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }

  /* Class to apply when the element becomes visible */
  .fade-in-visible {
    opacity: 1;
    transform: translateY(0); /* Move to original position */
  }
</style>
